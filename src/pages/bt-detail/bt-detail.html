<!--
  Generated template for the BtDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content>
    <div class="qrcode-button">
        <svg class="icon back-icon" (click)="goBack()" aria-hidden="true">
            <use xlink:href="#iconfanhui"></use>
        </svg>
        <svg class="icon icon-ellipsis" (click)="goBtTaskPage()" aria-hidden="true">
            <use xlink:href="#iconBTxiazaiguanli"></use>
        </svg>
    </div>
    <div class="main-content">
        <div class="head-detail-img" *ngIf="titleImgList.length > 0">
            <div class="head-img-box">
                <div class="img-box" *ngFor="let img of titleImgList">
                    <img [src]="img" alt="">
                </div>
            </div>
            <div class="detail-title detail-img-title">
                <p class="p-title">{{ title }}</p>
            </div>
        </div>

        <div class="detail-title" [ngClass]="titleImgList.length <= 0 ? 'mar-top-46' : ''">
            <p class="p-title" *ngIf="titleImgList.length <= 0">{{ title }}</p>
            <p>{{ size }}<span>{{ global.L("AllDownload") }} {{ heat }}</span></p>
            <div class="link-box" ion-item>
                <div class="left-link-box" item-start>{{ link }}</div>
                <div class="right-link-box" item-end>
                    <svg class="icon icon-ellipsis" (click)="copyLink()" aria-hidden="true">
                        <use xlink:href="#iconcopy1"></use>
                    </svg>
                </div>
            </div>
        </div>
        <div class="detail-info">

            <div class="info-box">
                <p class="second-title">{{ global.L("Introduction") }}</p>
                <div class="detail-list">
                    <p>{{ global.L("payUbbey") }}
                        <span>
                            <img class="coin-img" src="assets/img/coin.svg">{{ payUbbey }}
                        </span>
                    </p>
                    <p *ngIf="createdTime != ''">
                        {{ global.L("CreatTime") }}<span>{{ createdTime | computeFileTime }}</span></p>
                    <p *ngIf="fileType != ''">{{ global.L("FileType") }}<span>{{ fileType }}</span></p>
                    <p *ngIf="file_number != ''">{{ global.L("FileNumber") }}<span>{{ file_number }}</span></p>
                    <p *ngIf="btNum != ''">{{ global.L("BTNumber") }}<span>{{ btNum }}</span></p>
                    <p *ngIf="hash != ''">{{ global.L("FileHash") }}<span class="has-span">{{ hash }}</span></p>
                </div>
                <p class="second-title" *ngIf="detailDesc != ''">{{ global.L("FileDescription") }}</p>
                <div class="detail-des" *ngIf="detailDesc != ''">
                    <div [innerHTML]="detailDesc" class="desc-box" [ngClass]="isShowDesc ? 'show-more' : ''"></div>
                    <div class="see-more" *ngIf="isShowMoreBtn" (click)="toggleShowDesc()">
                        {{ isShowDesc ? global.L("PutMore") : global.L("ViewMore") }}</div>
                </div>
                <p class="second-title" *ngIf="desImgList.length > 0">{{ global.L("RelatedImages") }}</p>
                <div class="img-list-box" *ngIf="desImgList.length > 0">
                    <p class="p-imglist">
                        <span (click)="viewImageDetail(file)" *ngFor="let file of desImgList"
                            [ngStyle]="{'background-image': 'url('+ file +')'}"></span>
                    </p>
                </div>
                <p class="second-title" *ngIf="fileList.length > 0">{{ global.L("FileList") }}</p>
                <div class="file-list-box" *ngIf="fileList.length > 0">
                    <ul class="file-list">
                        <li class="file-list-item" *ngFor="let file of fileList"  tappable  >
                            <div class="file-type" [ngClass]="file.style"></div>
                            <div class="info">
                                <h2 class="eps">{{ file.name || file }}</h2>
                            </div>
                            <div class="file-list" *ngIf="file.children && file.children.length > 0">
                                <div class="file-list-item sub-file-list-item" *ngFor="let f of file.children"  tappable  >
                                    <div class="file-split"></div>
                                    <div class="file-type" [ngClass]="f.style"></div>
                                    <div class="info">
                                        <h2 class="eps">{{ f.name }}</h2>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
    <div class="download-btn-box">
        <button class="download-btn" [ngClass]="!!status ? 'noclick' : ''"
            (click)="downloadBt()">{{ global.L("Download") }}</button>
    </div>


</ion-content>
